//+------------------------------------------------------------------+
//|                                                  Config_Risk.mqh |
//|                                         Copyright 2025, YourName |
//|                                                 https://mql5.com |
//| 14.12.2025 - Initial release                                     |
//+------------------------------------------------------------------+

//+------------------------------------------------------------------+
//| âœ… è¾“å…¥å‚æ•°é…ç½®
//+------------------------------------------------------------------+
input string   __TIME_SETTINGS__  = "--- äº¤æ˜“æ—¶æ®µè®¾ç½® ---";
input string   Local_Trade_Slots  = "1-2, 2-4, 7-11, 14-18, 20-23"; // æœ¬åœ°æ—¶é—´äº¤æ˜“æ—¶æ®µ (24håˆ¶, é€—å·åˆ†éš”)
                                                   // æ ¼å¼è¯´æ˜: "Start-End"
                                                   // "9-11" è¡¨ç¤º [09:00 åˆ° 10:59]
                                                   // ç•™ç©ºåˆ™å…¨å¤©è¿è¡Œ

//+------------------------------------------------------------------+
//| âœ… å…¨å±€å˜é‡
//+------------------------------------------------------------------+
long g_TimeOffset_Sec = 0; // ä¿å­˜æœ¬åœ°æ—¶é—´ä¸æœåŠ¡å™¨æ—¶é—´çš„å·®å€¼ (ç§’)

//+------------------------------------------------------------------+
//| âœ… è¿ç»­æ­¢æŸé£é™©ç®¡ç† (Consecutive SL Risk Management)
//+------------------------------------------------------------------+
input string   __RISK_CSL__         = "--- Consecutive SL Settings ---";
input bool     Enable_CSL           = true;     // CSL åŠŸèƒ½æ€»å¼€å…³
input int      CSL_Max_Losses       = 3;        // å…è®¸çš„æœ€å¤§è¿ç»­æ­¢æŸæ¬¡æ•° (ä¾‹å¦‚: è¿ç»­æ­¢æŸ3æ¬¡)
input int      CSL_Lockout_Duration = 4;        // äº¤æ˜“é”å®šå°æ—¶æ•° (ä¾‹å¦‚: é”å®š4å°æ—¶)

//+------------------------------------------------------------------+
//| å…¨å±€çŠ¶æ€å˜é‡ (CSL Tracking)
//+------------------------------------------------------------------+
int      g_ConsecutiveLossCount = 0;   // å½“å‰è¿ç»­æ­¢æŸè®¡æ•°å™¨
datetime g_CSLLockoutEndTime    = 0;   // äº¤æ˜“é”å®šè§£é™¤çš„æ—¶é—´æˆ³ (0è¡¨ç¤ºæœªé”å®š)
datetime g_LastCSLCheckTime     = 0;   // ğŸš¨ è½®è¯¢æ ¸å¿ƒï¼šä¸Šæ¬¡æ£€æŸ¥å†å²è®¢å•çš„æ—¶é—´æˆ³

//+------------------------------------------------------------------+
//| âœ… äº¤æ˜“æ‰§è¡Œé™åˆ¶ (Trade Execution Limits)
//+------------------------------------------------------------------+
input string   __EXECUTION_LIMITS__ = "--- Max Orders Limit ---";
input int      Max_Open_Orders      = 2;     // å½“å‰å“ç§å…è®¸åŒæ—¶æŒæœ‰çš„æœ€å¤§æŒä»“æ•°é‡ (ä¾‹å¦‚: 1 æˆ– 2)

//+------------------------------------------------------------------+
//| âœ… äº¤æ˜“æ‰§è¡Œé™åˆ¶ (Trade Execution Limits)
//+------------------------------------------------------------------+
input string   __RISK_STOP__              = "--- Daily Equity Stop ---";
input double   Daily_Max_Loss_Amount      = 100.0; // æ—¥å†…å…è®¸çš„æœ€å¤§äºæŸé‡‘é¢ï¼ˆç¾å…ƒæˆ–è´¦æˆ·è´§å¸ï¼‰
input bool     Check_Daily_Loss_Strictly  = true;  // æ˜¯å¦å¯ç”¨ä¸¥æ ¼çš„æ—¥å†…äºæŸæ£€æŸ¥

//+------------------------------------------------------------------+
//| å…¨å±€çŠ¶æ€å˜é‡ (Daily Limit Tracking)
//| é‡‡ç”¨ä¸ CSL ç›¸åŒçš„ç­–ç•¥ï¼šå¢é‡æ›´æ–° æ¥å®ç° æ—¥å†…å…è®¸çš„æœ€å¤§äºæŸé‡‘é¢
//+------------------------------------------------------------------+
double   g_Today_Realized_PL     = 0.0;     // ç´¯è®¡ä»Šæ—¥ç›ˆäº
datetime g_Last_Daily_Check_Time = 0;       // ä¸Šæ¬¡æ£€æŸ¥å†å²è®¢å•çš„æ—¶é—´ç‚¹
datetime g_Last_Calc_Date        = 0;       // ä¸Šæ¬¡è®¡ç®—çš„æ—¥æœŸ (ç”¨äºéš”æ—¥é‡ç½®)