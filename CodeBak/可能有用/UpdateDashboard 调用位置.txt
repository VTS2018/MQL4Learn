void OnTick()
{
    // ---------------------------------------------------------
    // 1. ã€æ€»é—¸ã€‘Master Switch
    // ---------------------------------------------------------
    if (!EA_Master_Switch) return;

    // ---------------------------------------------------------
    // 2. ã€æ•°æ®å±‚ã€‘æ›´æ–°æ‰€æœ‰åå°æ•°æ® (Update Data)
    // ---------------------------------------------------------
    // å¿…é¡»æœ€å…ˆæ‰§è¡Œï¼ç®—å‡ºæœ€æ–°çš„è¿æŸæ•°ã€ä»Šæ—¥ç›ˆäºã€é”å®šæ—¶é—´ã€‚
    UpdateCSLByHistory_V3(); 
    UpdateDailyProfit_V4();

    // ---------------------------------------------------------
    // 3. ã€æŒä»“å±‚ã€‘ç®¡ç†ç°æœ‰è®¢å• (Manage Trades)
    // ---------------------------------------------------------
    // æ— è®ºæ˜¯å¦é”å®šï¼Œè€å•å­éƒ½è¦ç®¡ã€‚è¿™ä¹Ÿä¼šæ”¹å˜æŒä»“æ•°é‡ç­‰æ•°æ®ã€‚
    ManageOpenTrades(); 

    // ---------------------------------------------------------
    // 4. ã€å±•ç¤ºå±‚ã€‘åˆ·æ–°æ˜¾ç¤ºå± (View / Dashboard)  <=== ğŸ‘‘ æœ€ä½³ä½ç½®ï¼
    // ---------------------------------------------------------
    // æ­¤æ—¶ï¼Œå˜é‡(æ•°æ®)æ˜¯æœ€æ–°çš„ã€‚
    // æ­¤æ—¶ï¼ŒEA è¿˜æ²¡æœ‰è¢«é£æ§è¸¢å‡ºå»ã€‚
    // è¿™é‡Œåˆ·æ–°ï¼Œèƒ½ç¡®ä¿å±å¹•å‡†ç¡®æ˜¾ç¤º "çº¢è‰²é”å®š" æˆ– "ç»¿è‰²æ­£å¸¸"ã€‚
    UpdateDashboard(); 

    // ---------------------------------------------------------
    // 5. ã€é£æ§å±‚ã€‘ä¿å®‰æ‹¦æˆª (Risk Gatekeepers)
    // ---------------------------------------------------------
    // ğŸš¨ æ³¨æ„ï¼šé™éŸ³ç‰ˆçš„å‡½æ•°åªè´Ÿè´£ return true/false
    
    if (IsTradingLocked()) return;           // å¦‚æœé”å®šï¼Œåœ¨æ­¤å¤„é€€å‡º OnTick
    if (IsDailyLossLimitReached_V2()) return; // å¦‚æœç†”æ–­ï¼Œåœ¨æ­¤å¤„é€€å‡º OnTick
    if (!IsCurrentTimeInSlots()) return;      // å¦‚æœä¼‘æ¯ï¼Œåœ¨æ­¤å¤„é€€å‡º OnTick

    // ---------------------------------------------------------
    // 6. ã€ç­–ç•¥å±‚ã€‘ä¿¡å·ä¸å¼€ä»“ (Strategy Logic)
    // ---------------------------------------------------------
    // åªæœ‰è¿‡äº†ä¸Šé¢æ‰€æœ‰çš„å…³å¡ï¼Œæ‰æœ‰èµ„æ ¼èµ°åˆ°è¿™é‡Œ
    // ... CollectSignals ...
    // ... ExecuteTrade ...
}