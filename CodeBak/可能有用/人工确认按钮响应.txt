void OnChartEvent(...)
{
   if (id == CHARTEVENT_OBJECT_CLICK)
   {
      // ... (åŸæœ‰çš„æ¸…ç†æŒ‰é’®é€»è¾‘ä¿æŒä¸å˜) ...
      if (sparam == BTN_CLEANUP_NAME) { ... }

      // ğŸ‘‡ğŸ‘‡ğŸ‘‡ [æ–°å¢] äººå·¥ç¡®è®¤æŒ‰é’®å“åº” ğŸ‘‡ğŸ‘‡ğŸ‘‡
      
      // ğŸŸ¢ äº¤æ˜“å‘˜ç‚¹å‡» [ç¡®è®¤å¼€ä»“]
      if (sparam == "KBot_UI_Btn_Confirm_Trade") 
      {
         if (g_PendingRequest.is_active)
         {
            // 1. è¶…æ—¶æ£€æŸ¥
            if (TimeCurrent() > g_PendingRequest.expire_time)
            {
               Alert("è¯·æ±‚å·²è¶…æ—¶å¤±æ•ˆï¼Œæ— æ³•æ‰§è¡Œï¼");
               RemoveConfirmPanel();
               g_PendingRequest.is_active = false;
               return;
            }
            
            // 2. æ‰§è¡Œäº¤æ˜“ (æå–æš‚å­˜çš„æ•°æ®)
            // æ³¨æ„ï¼štheoretical_entry è¿™é‡Œæˆ‘ä»¬ç”¨æš‚å­˜çš„ entry_price ä»£æ›¿
            ExecuteTrade(g_PendingRequest.type, g_PendingRequest.lots, 
                         g_PendingRequest.entry_price, g_PendingRequest.sl_price, 
                         g_PendingRequest.tp_price, g_PendingRequest.entry_price, g_PendingRequest.comment);
                         
            // 3. æ¸…ç†ç°åœº
            RemoveConfirmPanel();
            g_PendingRequest.is_active = false;
         }
      }
      
      // ğŸ”´ äº¤æ˜“å‘˜ç‚¹å‡» [æ‹’ç»/å¿½ç•¥]
      if (sparam == "KBot_UI_Btn_Reject_Trade")
      {
         Print("ğŸš« äººå·¥æ‹’ç»äº†äº¤æ˜“ä¿¡å·ã€‚");
         RemoveConfirmPanel();
         g_PendingRequest.is_active = false;
      }
      // ğŸ‘†ğŸ‘†ğŸ‘† [æ–°å¢ç»“æŸ] ğŸ‘†ğŸ‘†ğŸ‘†
   }
}