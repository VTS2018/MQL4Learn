//+------------------------------------------------------------------+
//| è¾…åŠ©å‡½æ•°ï¼šç”Ÿæˆç»å¯¹å”¯ä¸€çš„ä¿¡å· ID (å“ç§_æœˆæ—¥_æ—¶åˆ†)                 |
//+------------------------------------------------------------------+
/*
string GenerateSignalID_V1(datetime signal_time)
{
   // 1. è·å–æ—¶é—´å…ƒç´ 
   string month_day = TimeToString(signal_time, TIME_MONTH | TIME_DAY);
   string hour_minute = TimeToString(signal_time, TIME_MINUTES);

   // 2. æ¸…ç†åˆ†éš”ç¬¦
   // å“ç§å: BTCUSD_1129_1027
   string clean_symbol = StringReplace(_Symbol, "_", "");
   string clean_month_day = StringReplace(month_day, ".", "");
   string clean_hour_minute = StringReplace(hour_minute, ":", "");

   // 3. æœ€ç»ˆ ID æ‹¼æ¥
   return clean_symbol + "_" + clean_month_day + "_" + clean_hour_minute;
}
*/

//+------------------------------------------------------------------+
//| è¾…åŠ©å‡½æ•°ï¼šç”Ÿæˆç»å¯¹å”¯ä¸€çš„ä¿¡å· ID (å“ç§å‰ç¼€_æœˆæ—¥_æ—¶åˆ†)             |
//+------------------------------------------------------------------+
/*
string GenerateSignalID(datetime signal_time)
{
   // --- å®šä¹‰è¾…åŠ©å˜é‡ (ç”¨äº StringReplace) ---
   string find_underscore = "_" + "";
   string find_dot = "." + "";
   string find_colon = ":" + "";
   string replace_empty = "" + "";

   // 1. è·å–å“ç§å‰ç¼€ (ä¾‹å¦‚: BTCUSD -> BTC)
   string symbol_prefix = _Symbol;
   if (StringLen(_Symbol) >= 3)
   {
      symbol_prefix = StringSubstr(_Symbol, 0, 3); // æˆªå–å‰ 3 ä¸ªå­—ç¬¦
   }
   string clean_symbol_prefix = StringReplace(symbol_prefix, find_underscore, replace_empty);
   clean_symbol_prefix = StringReplace(clean_symbol_prefix, find_dot, replace_empty);

   // ----------------------------------------------------
   // 2. ğŸš¨ ä¿®æ­£æ—¥æœŸ/æ—¶é—´è·å–é€»è¾‘ ğŸš¨
   // ----------------------------------------------------

   // 2.1 è·å–å®Œæ•´æ—¥æœŸ: "yyyy.mm.dd"
   // æ³¨æ„ï¼šä½¿ç”¨ TIME_DATE (0) ç¡®ä¿è¾“å‡ºæ ‡å‡†æ ¼å¼
   string full_date = TimeToString(signal_time, TIME_DATE);

   // 2.2 æˆªå–æœˆæ—¥éƒ¨åˆ†: ä»ç¬¬ 5 ä½å¼€å§‹ï¼Œé•¿åº¦ä¸º 5 ("mm.dd")
   // æ ¼å¼ï¼š yyyy.mm.dd
   // ç´¢å¼•ï¼š 0123456789
   string month_day = StringSubstr(full_date, 5, 5); // æˆªå– "mm.dd"

   // 2.3 è·å–æ—¶é—´: "hh:mi"
   string hour_minute = TimeToString(signal_time, TIME_MINUTES);

   // 3. æ¸…ç†æ—¥æœŸæ—¶é—´åˆ†éš”ç¬¦
   string temp_month_day = month_day;
   string temp_hour_minute = hour_minute;

   // æ¸…ç†åˆ†éš”ç¬¦ (å°† "11.29" å˜ä¸º "1129"ï¼Œå°† "10:27" å˜ä¸º "1027")
   StringReplace(temp_month_day, find_dot, replace_empty);
   StringReplace(temp_hour_minute, find_colon, replace_empty);

   // 4. æœ€ç»ˆ ID æ‹¼æ¥
   // æ ¼å¼: å“ç§å‰ç¼€_æœˆæ—¥_æ—¶åˆ† (ä¾‹å¦‚ï¼šXAU_1201_1517)
   return clean_symbol_prefix + "_" + temp_month_day + "_" + temp_hour_minute;
}
*/